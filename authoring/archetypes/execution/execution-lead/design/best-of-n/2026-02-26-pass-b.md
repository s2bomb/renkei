# Best-of-N Pass B -- Execution Role Boundary and Stage Contract

**Date**: 2026-02-26  
**Perspective**: B (stage-boundary rigor, ownership clarity)  
**Scope**: product -> technical-preparation -> execution interfaces

## 0) Direct answer on test implementation stage

Tests should be **implemented in execution**, not technical-preparation.

Rationale:

1. **Shape Up stage intent**: shaping/prep defines bounded work and constraints; build executes and discovers tasks in reality. Executable tests are build artifacts, not shaping artifacts.
2. **TDD discipline**: technical-preparation should produce proof obligations (test spec, plan obligations). Execution should run red first, then green. Red belongs inside the build loop where unknowns are surfaced and handled with real code context.
3. **Boundary control**: if technical-preparation also writes test code, preparation silently expands into build authority. That blurs accountability and weakens stage gates.

So the split is: **test design in technical-preparation; test code implementation in execution as phase 1 of delivery**.

## 1) Recommended role name and analog

### Recommended name

Keep `execution-lead`.

Why:

- It names stage ownership directly and aligns with existing `tech-lead` naming.
- It avoids overloaded labels (`architect`) and avoids role/pattern names (`manager`, `orchestrator`) as identity.
- It cleanly pairs with the explicit boundary doctrine already present in `tech-lead` truth/ethos.

### Analog

**General contractor / site foreman** (software delivery version): receives approved drawings and constraints, sequences specialist trades, enforces onsite quality gates, and is accountable for handoff of built work.

## 2) V1 article plan (truth / ethos / doctrine)

### Truth articles

1. `execution-owns-delivery-risk.md`
   - Once work crosses handoff, schedule and integration risk belongs to execution.
2. `red-phase-before-green-preserves-proof.md`
   - TDD red first validates tests as proof obligations before implementation.
3. `validated-increments-improve-control.md`
   - Small validated checkpoints localize failure and preserve rollback options.
4. `scope-tradeoffs-belong-near-build-reality.md`
   - Scope hammering decisions are most accurate where implementation facts are visible.
5. `completion-requires-independent-verification.md`
   - Build completion is not claims; it is verified against plan and source requirements.

### Ethos articles

1. `identity.md`
   - Execution stage owner; receives prepared package; does not re-shape product intent.
2. `tenets.md`
   - Test-first delivery, explicit ownership, no silent boundary crossing, propagate defects upstream.
3. `principles.md`
   - Acknowledge intake before ownership transfer, enforce member return contracts, ship by validated phase.

### Doctrine articles

1. `process.md`
   - Intake ack -> test implementation -> implementation -> validation -> stage report/escalation.
2. `orchestration.md`
   - Delegate to `test-implementer`, `implement-plan`, `validate-plan`; parallel only on independent scopes.
3. `pipeline.md`
   - `tech-lead -> execution-lead -> decision owner/upstream summary`.
4. `output-contract.md`
   - Stage-complete package schema with commits, verification evidence, open issues, disposition.
5. `handoff-contract.md`
   - Strict intake and ack fields from `tech-lead` plus insufficiency loop.
6. `team-contract.md`
   - Parent/member relationships and return-path guarantees.

## 3) Responsibility split matrix

| Keep in technical-preparation | Move to execution-lead | Leave temporarily elsewhere |
|---|---|---|
| Spec enrichment (`spec-writer`) | Test code implementation (red phase) | Betting-table/project selection authority (`decision owner` / product leadership) |
| Codebase research and context proof | Implementation sequencing and commit discipline | Interim end-to-end umbrella in `architect-opencode` until boundary propagation is complete |
| API design and error-contract definition | Scope hammering during build under fixed time | Any org-level staffing mechanics not yet modeled in archetypes |
| Test specification design (proof obligations) | Validation orchestration and closure decision | Existing human/manual runtime checks outside archetype automation |
| Plan generation with must-have/nice-to-have separation | Upstream defect propagation with execution evidence | |
| Technical package synthesis and readiness gate | Stage-complete report publication | |

## 4) Handoff contract from `tech-lead` to `execution-lead`

Ownership transfer should be explicit and binary.

### Required payload (from `tech-lead`)

1. `active_item_path`
2. `shape_source_path`
3. `technical_package_path`
4. `spec_source_path`
5. `test_spec_paths[]`
6. `plan_path`
7. `must_have_list[]`
8. `nice_to_have_list[]`
9. `unresolved_decisions[]` (explicit `none` if empty)
10. `accepted_risks[]` (explicit `none` if empty)

### Required acknowledgment (from `execution-lead`)

1. `receipt_confirmed: true|false`
2. `sufficiency_for_execution: true|false`
3. `blocking_gaps[]`
4. `first_execution_step`
5. `expected_test_phase_owner: test-implementer`

### Transfer rule

- Ownership transfers only when `receipt_confirmed=true` and `sufficiency_for_execution=true`.
- If either is false, ownership remains with `tech-lead`; correction loop or escalation is mandatory.

## 5) Team-member return contracts

### `test-implementer -> execution-lead`

Required return fields:

1. `files_created_or_updated[]`
2. `tests_implemented_count`
3. `spec_traceability` (spec section -> test file mapping)
4. `parse_compile_status`
5. `commit_hashes[]`
6. `issues_propagated[]` (spec/design mismatches only; no silent rewrites)

Acceptance gate:

- Tests from spec implemented, committed separately, and ready for green-phase consumption.

### `implement-plan -> execution-lead`

Required return fields:

1. `phase_id`
2. `files_changed[]`
3. `verification_results` (tests/lint/type/build as applicable)
4. `commit_hash`
5. `plan_checkbox_updates`
6. `issues_propagated[]` (test/design/spec mismatches)

Acceptance gate:

- Phase scope complete with passing required verification and no unauthorized test/design edits.

### `validate-plan -> execution-lead`

Required return fields:

1. `phase_validation_status[]`
2. `requirements_coverage` (source + plan)
3. `deviations[]` (planned vs actual)
4. `critical_issues[]`
5. `manual_checks_required[]`
6. `final_recommendation: pass|fail|pass-with-conditions`

Acceptance gate:

- Stage closes only on `pass` or explicit `pass-with-conditions` accepted by decision owner.

## 6) Required updates in neighboring archetypes

1. **`tech-lead` doctrine updates**
   - Replace interim downstream owner (`architect-opencode`) with `execution-lead` in:
     - `doctrine/process.md`
     - `doctrine/pipeline.md`
     - `doctrine/handoff-contract.md`
     - `doctrine/team-contract.md`

2. **`test-implementer` pipeline/orchestration updates**
   - Set default parent return to `execution-lead` (not architect role).
   - Keep anti-overlap: writes tests only; escalates spec gaps.

3. **`implement-plan` pipeline/orchestration updates**
   - Route propagations and status to `execution-lead` as parent leader.
   - Preserve boundary: never patch tests/design/spec locally.

4. **`validate-plan` integration update**
   - Ensure validation output contract aligns to execution-stage closure schema expected by `execution-lead`.

5. **`architect-opencode` scope reduction**
   - Remove default ownership of execution-stage operations once `execution-lead` is active.
   - Keep architect as cross-stage director where explicitly invoked, not default stage owner.

6. **Execution team topology docs**
   - Confirm `execution-lead` as team leader with child members:
     - `test-implementer`
     - `implement-plan`
     - `validate-plan`

## Boundary judgment summary

The clean split is:

- **Product (`shaper`)**: why + bounded what.
- **Technical-preparation (`tech-lead`)**: execution-ready how (contracts, proof obligations, plan).
- **Execution (`execution-lead`)**: build-and-prove under fixed-time commitment.

Any model that implements tests in technical-preparation collapses the prep/build boundary and should be rejected.
